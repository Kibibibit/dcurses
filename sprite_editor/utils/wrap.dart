
int wrap(int v, int max) {
  return v % max;
}